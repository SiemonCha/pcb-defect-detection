# PCB Defect Detection - Complete Requirements
# Works on: NVIDIA CUDA, AMD ROCm, Apple Silicon, CPU-only systems
#
# Installation:
#   1. Create Python 3.11 environment:
#      conda create -n pcb311 python=3.11
#      conda activate pcb311
#
#   2. Install dependencies:
#      pip install -r requirements.txt
#
#   3. Install platform-specific packages:
#      python install.py
#
# The install.py script will detect your platform and install:
#   - PyTorch (CUDA 11.8 / ROCm 6.0 / MPS / CPU)
#   - ONNX Runtime (GPU / ROCm / CPU)

# ============================================================
# Core ML Libraries (Platform-Independent)
# ============================================================
# Note: PyTorch installed by install.py based on your GPU
# torch>=2.0.0         # Installed by install.py
# torchvision>=0.15.0  # Installed by install.py

ultralytics>=8.3.0,<9.0.0
albumentations>=1.4.0,<2.0.0
onnx>=1.16.0,<2.0.0
onnxslim>=0.1.31

# Note: ONNX Runtime installed by install.py based on your GPU
# onnxruntime        # CPU - installed by install.py
# onnxruntime-gpu    # NVIDIA - installed by install.py  
# onnxruntime-rocm   # AMD - installed by install.py

# ============================================================
# API & Web Framework
# ============================================================
fastapi>=0.115.0
uvicorn[standard]>=0.32.0
pydantic>=2.9.0
python-multipart>=0.0.12
gradio>=4.44.0

# ============================================================
# Data & Storage
# ============================================================
sqlalchemy>=2.0.0
roboflow>=1.1.0

# ============================================================
# Visualization & Plotting
# ============================================================
matplotlib>=3.7.0
seaborn>=0.12.0
pillow>=10.0.0

# ============================================================
# Advanced Analysis (NEW)
# ============================================================
# For hyperparameter optimization and cross-validation
optuna>=3.0.0
scipy>=1.10.0

# ============================================================
# Development & Testing
# ============================================================
pytest>=8.3.0
black>=24.10.0
pylint>=3.3.0

# ============================================================
# Logging & Monitoring
# ============================================================
wandb>=0.18.0

# ============================================================
# Utilities
# ============================================================
tqdm>=4.66.0
pyyaml>=6.0.0
python-dotenv>=1.0.0
requests>=2.31.0
numpy>=1.24.0,<2.0.0
opencv-python>=4.8.0
psutil>=5.9.0

# ============================================================
# Platform Detection (for install.py)
# ============================================================
# These are used by install.py to detect your system
py-cpuinfo>=9.0.0

# ============================================================
# IMPORTANT NOTES
# ============================================================
# 
# New in this version:
# ------------------------------------------------
# - hyperparameter: Automated tuning (see training.hyperparameter)
# - cross_validation: Confidence intervals (see training.cross_validation)
# - analyze_dataset: Statistical tests (see analysis.dataset)
# 
# These enable advanced features:
# - training.hyperparameter
# - training.cross_validation (confidence intervals)
# - analysis.dataset (statistical tests)
#
# Why PyTorch and ONNX Runtime are not listed here:
# ------------------------------------------------
# These packages have platform-specific versions that conflict:
#
# PyTorch:
#   - NVIDIA:  torch+cu118 (CUDA 11.8)
#   - AMD:     torch+rocm6.0 (ROCm 6.0)
#   - Apple:   torch (with MPS support)
#   - CPU:     torch (CPU-only)
#
# ONNX Runtime:
#   - NVIDIA:  onnxruntime-gpu (CUDA)
#   - AMD:     onnxruntime-rocm (ROCm)
#   - Others:  onnxruntime (CPU)
#
# Installing multiple variants causes conflicts, so we let
# install.py detect your platform and install the correct one.
#
# ============================================================
# Manual Installation (if install.py doesn't work)
# ============================================================
#
# For NVIDIA GPU (CUDA 11.8):
#   pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
#   pip install onnxruntime-gpu
#
# For AMD GPU (ROCm 6.0):
#   pip install --pre torch torchvision --index-url https://download.pytorch.org/whl/nightly/rocm6.0
#   pip install onnxruntime-rocm==1.22.2.post1
#
# For Apple Silicon (M1/M2/M3):
#   pip install torch torchvision
#   pip install onnxruntime
#
# For CPU-only:
#   pip install torch torchvision
#   pip install onnxruntime
#
# ============================================================
# Quick Start
# ============================================================
#
# After installing requirements:
#   1. python -m cli verify-setup        # Verify installation
#   2. python -m cli data-download        # Download dataset
#   3. python -m cli train-baseline       # Train model
#   4. python -m cli quick-analysis       # Comprehensive analysis
#
# ============================================================